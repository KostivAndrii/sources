<html>
<head><title>opendmarc_get_policy_to_enforce()</title></head>
<body>
<!--
$Id: opendmarc_get_policy_to_enforce.html,v 1.5 2010/07/24 04:52:15 cm-msk Exp $
-->
<h1>opendmarc_get_policy_to_enforce()</h1>
<p align="right"><a href="index.html">[back to index]</a></p>

<table border="0" cellspacing=4 cellpadding=4>
<!---------- Synopsis ----------->
<tr><th valign="top" align=left width=150>SYNOPSIS</th><td>
<pre>
#include &lt;dmarc.h&gt;
<a href="opendmarc_status_t.html"><tt>OPENDMARC_STATUS_T</tt></a> opendmarc_get_policy_to_enforce(
	<a href="dmarc_policy_t.html"><tt>DMARC_POLICY_T</tt></a> *pctx
);
</pre>
Query the library to find the policy to follow.
</td></tr>

<!----------- Description ---------->
<tr><th valign="top" align=left>DESCRIPTION</th><td>
<table border="1" cellspacing=1 cellpadding=4>
<tr align="left" valign=top>
<th width="80">Called When</th>
<td><tt>opendmarc_get_policy_to_enforce()</tt>
	is called after the DMARC record has been fetched and parsed.
</tr>
</table>

<!----------- Arguments ---------->
<tr><th valign="top" align=left>ARGUMENTS</th><td>
    <table border="1" cellspacing=0>
    <tr bgcolor="#dddddd"><th>Argument</th><th>Description</th></tr>
    <tr valign="top"><td>pctx</td>
	<td>The address of a structure of type <a href="dmarc_policy_t.html">
        <tt>DMARC_POLICY_T</tt></a> as returned from <a href="opendmarc_policy_connect_init.html">opendmarc_policy_connect_init()</a>. 
	</td></tr>
    </table>
</td></tr>

<!----------- Return Values ---------->
<tr>
<th valign="top" align=left>RETURN VALUES</th> 
<td>
<ul>
<li><tt>DMARC_PARSE_ERROR_NULL_CTX</tt> -- If you passed in a <tt>pctx</tt> value that was NULL.
<li><tt>DMARC_POLICY_ABSENT</tt> -- No <tt>DMARC</tt> record was found.
<li><tt>DMARC_FROM_DOMAIN_ABSENT</tt> -- No <tt>From:</tt> domain was ever supplied to look up.
<li><tt>DMARC_POLICY_NONE</tt> -- Accept (only if other policy allows)
<li><tt>DMARC_POLICY_REJECT</tt> -- Policy advises to reject the message.
<li><tt>DMARC_POLICY_QUARANTINE</tt> -- Policy advises to quarantine the message.
<li><tt>DMARC_POLICY_PASS</tt> -- Policy advises to accept the message
</ul>
</td>
</tr>

<!----------- Notes ---------->
<tr>
<th valign="top" align=left>NOTES</th> 
<td>
<ul>
<li> Call this function only after a <tt>DMARC</tt> record was fetched and parsed with
<a href="opendmarc_policy_query_dmarc.html">opendmarc_policy_query_dmarc()</a>
or supplied to the library with
<a href="opendmarc_policy_store_dmarc.html">opendmarc_policy_store_dmarc()</a>.
<li> The "pct" value of the DMARC policy record is not applied by this function.  That is, the applicable policy is always returned, and the caller must apply the semantics requested by a "pct" value other than 100.
</ul>
</td>
</tr>
</table>

<hr size="1">
<font size="-1">
Copyright (c) 2012, The Trusted Domain Project.  All rights reserved.

<br>
By using this file, you agree to the terms and conditions set
forth in the license.
</font>
</body>
</html>
